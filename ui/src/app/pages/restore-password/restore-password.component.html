<div class="wrapper">
    <div class="block-center mt-4 wd-xl">
        <!-- START card-->
        <div class="card card-flat">
            <div class="card-header text-center">
                <img class="block-center rounded" src="assets/img/logo.png" alt="Image" style="width: 280px;"/>
            </div>
            <div class="card-body">

                <div *ngIf="isResetPasswordRequestSuccess">
                    <h5 class="text-center">Password changed successfully</h5>

                    <div class="text-center mt-md-3">
                        <a routerLink="/login">Login page</a>
                    </div>
                </div>

                <form class="form-validate" [formGroup]="resetPasswordForm" (submit)="submit()"
                      *ngIf="!isResetPasswordRequestSuccess">
                    <p class="text-center py-2">PASSWORD RESET</p>

                    <p class="text-center">Enter and confirm your new password</p>


                    <div class="form-group">
                        <label>Password</label>
                        <div class="input-group with-focus">
                            <input formControlName="password" class="form-control border-right-0" type="password"
                                   placeholder="Password"
                                   [ngClass]="{'is-invalid': getControl('password').invalid && getControl('password').touched}">
                            <div class="input-group-append">
                                <span class="input-group-text text-muted bg-transparent border-left-0">
                                    <em class="fa fa-lock"></em>
                                </span>
                            </div>


                            <div class="invalid-feedback"
                                 *ngIf="getControl('password').invalid && getControl('password').touched">
                                <span class="text-danger"
                                      *ngIf="getControl('password').errors.required">Required field</span>
                                <ng-container *ngIf="getControl('password').errors.passwordStrong">
                                    <span class="text-danger">Password is too simple</span>
                                    <br>
                                    <span class="text-danger">
                                            Minimum eight characters, at least one uppercase letter, one lowercase letter and one number
                                        </span>
                                </ng-container>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Repeat password</label>
                        <div class="input-group with-focus">
                            <input formControlName="repeatPassword" type="password"
                                   class="form-control border-right-0"
                                   placeholder="Repeat password"
                                   [ngClass]="{'is-invalid': getControl('repeatPassword').invalid && getControl('repeatPassword').touched}"/>
                            <div class="input-group-append">
                                <span class="input-group-text text-muted bg-transparent border-left-0">
                                    <em class="fa fa-lock"></em>
                                </span>
                            </div>

                            <div class="invalid-feedback">
                                <ng-container
                                    *ngIf="getControl('repeatPassword').invalid && getControl('repeatPassword').touched">
                                      <span class="text-danger"
                                            *ngIf="getControl('repeatPassword').errors.required">Required field</span>
                                </ng-container>
                            </div>
                        </div>
                        <span class="text-danger font-size-80p"
                              *ngIf="resetPasswordForm.errors && resetPasswordForm.errors.controlsEquals">
                                        Passwords don't match</span>
                    </div>

                    <div class="form-group row">
                        <div class="text-danger col" *ngIf="resetPasswordError">{{resetPasswordError}}</div>
                    </div>

                    <button class="btn btn-primary btn-block" type="submit"
                            *ngIf="!isResetPasswordRequest"
                            [disabled]="resetPasswordForm.invalid"
                            translate>Reset
                    </button>
                    <app-spinner *ngIf="isResetPasswordRequest"></app-spinner>


                </form>
            </div>
        </div>
        <!-- END card-->
        <div class="p-3 text-center">
            <span>&copy;</span>
            <span>{{ settings.app.year }}</span>
            <span class="mx-2">-</span>
            <span>{{ settings.app.name }}</span>
            <br/>
            <span>{{ settings.app.description }}</span>
        </div>
    </div>
</div>
